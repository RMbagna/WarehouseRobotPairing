<div style="width: 100%; height: 100%; position: relative; background: white; overflow: hidden">
    <!-- Top navigation bar -->
    <div style="width: 1440px; height: 94px; padding-left: 100px; padding-right: 100px; left: 0px; top: 0px; position: absolute; justify-content: space-between; align-items: center; display: inline-flex">
        <!-- Navigation links container -->
        <div style="justify-content: flex-start; align-items: flex-start; gap: 52px; display: flex">
            <a href="Home-Page.html" style="text-decoration: none;">
            <div data-status="Off" style="padding-bottom: 4px; justify-content: flex-start; align-items: flex-start; gap: 10px; display: flex">
            <div style="color: #333333; font-size: 20px; font-family: Sarabun; font-weight: 400; line-height: 32px; word-wrap: break-word">Home</div>
            </div>
            </a>
            <a href="Background-Page.html" style="text-decoration: none;">
            <div data-status="Off" style="padding-bottom: 4px; justify-content: flex-start; align-items: flex-start; gap: 10px; display: flex">
            <div style="color: #333333; font-size: 20px; font-family: Sarabun; font-weight: 400; line-height: 32px; word-wrap: break-word">Background</div>
            </div>
            </a>
             <a href="https://www.clemson.edu/cecas/departments/me/research/labs/i2r.html" style="text-decoration: none;">
                <div data-status="Off" style="padding-bottom: 4px; justify-content: flex-start; align-items: flex-start; gap: 10px; display: flex">
                <div style="color: #333333; font-size: 20px; font-family: Sarabun; font-weight: 400; line-height: 32px; word-wrap: break-word">About Us</div>
            </div>
            </a>
            </div>
        <!-- Quit button -->
        <a href="End-Page.html"  style="text-decoration: none;">
      <div style="width: 129px; height: 54px; padding-left: 24px; padding-right: 24px; background: rgba(246.50, 31.84, 31.84, 0.77); border-radius: 32px; justify-content: center; align-items: center; gap: 8px; display: flex">
        <div style="flex-direction: column; justify-content: center; align-items: center; display: inline-flex">
        <div style="justify-content: flex-start; align-items: flex-start; gap: 8px; display: inline-flex">
        <div style="color: #FAEEEE; font-size: 16px; font-family: Sarabun; font-weight: 700; line-height: 24px; word-wrap: break-word">Quit</div>
        </div>
        </div>
      </div>
      </a>
      </div>
    <!-- Main content area -->
    <div style="width: 1440px; height: 1024px; left: 0px; top: 94px; position: absolute">
        <!-- Right side content -->
        <div style="width: 708px; height: 1024px; left: 732px; top: 0px; position: absolute">
            <div style="width: 1036px; height: 1024px; left: -328px; top: 0px; position: absolute; background: rgba(100.27, 244, 48, 0.12)"></div>
            <!-- Dissatisfied button -->
                <a href="#" onclick="downloadData('Dissatisfied')" style="text-decoration:none;">
                    <div style="width: 376px; height: 54px; padding-left: 24px; padding-right: 24px; left: 166px; top: 744px; position: absolute; background: #1B3360; border-radius: 32px; flex-direction: column; justify-content: center; align-items: center; display: inline-flex">
                        <div style="flex-direction: column; justify-content: center; align-items: center; display: flex">
                            <div style="justify-content: flex-start; align-items: flex-start; gap: 8px; display: inline-flex">
                                <div style="color: white; font-size: 16px; font-family: Sarabun; font-weight: 700; line-height: 24px; word-wrap: break-word">Dissatisfied, the model is not Human-Centric </div>
                            </div>
                        </div>
                    </div>
                </a>
                <!-- Marginally dissatisfied button -->
                <a href="#" onclick="downloadData('Marginally dissatisfied')" style="text-decoration:none;">
                    <div style="width: 376px; height: 54px; padding-left: 24px; padding-right: 24px; left: 166px; top: 663px; position: absolute; background: #1B3360; border-radius: 32px; flex-direction: column; justify-content: center; align-items: center; display: inline-flex">
                        <div style="flex-direction: column; justify-content: center; align-items: center; display: flex">
                            <div style="justify-content: flex-start; align-items: flex-start; gap: 8px; display: inline-flex">
                                <div style="color: white; font-size: 16px; font-family: Sarabun; font-weight: 700; line-height: 24px; word-wrap: break-word">Marginally dissatisfied, slightly Human-Centric </div>
                            </div>
                        </div>
                    </div>
                </a>
                <!-- Marginally satisfied button -->
                <a href="#" onclick="downloadData('Marginally satisfied')" style="text-decoration:none;">
                    <div style="width: 376px; height: 54px; padding-left: 24px; padding-right: 24px; left: 166px; top: 582px; position: absolute; background: #1B3360; border-radius: 32px; flex-direction: column; justify-content: center; align-items: center; display: inline-flex">
                        <div style="flex-direction: column; justify-content: center; align-items: center; display: flex">
                            <div style="justify-content: flex-start; align-items: flex-start; gap: 8px; display: inline-flex">
                                <div style="color: white; font-size: 16px; font-family: Sarabun; font-weight: 700; line-height: 24px; word-wrap: break-word">Marginally satisfied, almost Human-Centric</div>
                            </div>
                        </div>
                    </div>
                </a>
                <!-- Satisfied button -->
                 <a href="#" onclick="downloadData('Satisfied')" style="text-decoration:none;">
                    <div style="width: 376px; height: 54px; padding-left: 24px; padding-right: 24px; left: 166px; top: 501px; position: absolute; background: #1B3360; border-radius: 32px; flex-direction: column; justify-content: center; align-items: center; display: inline-flex">
                        <div style="flex-direction: column; justify-content: center; align-items: center; display: flex">
                            <div style="justify-content: flex-start; align-items: flex-start; gap: 8px; display: inline-flex">
                                <div style="color: white; font-size: 16px; font-family: Sarabun; font-weight: 700; line-height: 24px; word-wrap: break-word">Satisfied, the model is human-centric</div>
                            </div>
                        </div>
                    </div>
                </a>
            <!-- Question text -->
            <div style="width: 555px; left: 84px; top: 261px; position: absolute; color: #333333; font-size: 28px; font-family: Sarabun; font-weight: 700; line-height: 45px; word-wrap: break-word">The following gives us insight about your performance throughout the experiment. Do you agree? (Feel free to use slider to adjust)</div>
        </div>
        <!-- Left side content (Radar Chart) -->
            <div style="width: 659px; height: 870px; left: 100px; top: 77px; position: absolute; box-shadow: 0px 6px 40px rgba(56.52, 119.95, 178.50, 0.08); border-radius: 24px; background-color: #D9D9D9;">
                <div style="width: 660px; height: 870px; left: 0px; top: 0px; position: absolute; background: #D9D9D9; border-radius: 24px; padding: 20px;">
                    <h2 style="text-align: center; margin-bottom: 20px; color: #333;">Performance Radar Chart</h2>
                    <canvas id="radarChart" width="400" height="400"></canvas>

                    <!-- Attribute Selection -->
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; color: #555;">Select Attribute:</label>
                        <div style="display: flex; gap: 10px;">
                            <button type="button" onclick="showAttribute('Speed')" style="padding: 5px 10px; border: 1px solid #ccc; cursor: pointer;">Speed</button>
                            <button type="button" onclick="showAttribute('Efficiency')" style="padding: 5px 10px; border: 1px solid #ccc; cursor: pointer;">Efficiency</button>
                            <button type="button" onclick="showAttribute('Durability')" style="padding: 5px 10px; border: 1px solid #ccc; cursor: pointer;">Durability</button>
                            <button type="button" onclick="showAttribute('Safety')" style="padding: 5px 10px; border: 1px solid #ccc; cursor: pointer;">Safety</button>
                            <button type="button" onclick="showAttribute('Skill')" style="padding: 5px 10px; border: 1px solid #ccc; cursor: pointer;">Skill</button>
                        </div>
                    </div>

                    <!-- Single Slider for All Attributes -->
                    <div style="margin-bottom: 15px;">
                        <label for="attributeSlider" style="display: block; margin-bottom: 5px; color: #555;" id="sliderLabel">Pace:</label>
                    </div>
                    <div style="display: flex; justify-content: space-between;">
                        <span style="width: 50px; text-align: left;">Less</span>
                        <span style="width: 50px; text-align: right;">More</span>
                    </div>
                    <input type="range" id="attributeSlider" name="attributeSlider" min="-1" max="1" value="0" style="width: 100%;" step="0.1">

                    <style>
                        /* Style the slider track */
                        input[type="range"] {
                            -webkit-appearance: none;
                            /* Override default CSS styles */
                            appearance: none;
                            width: 100%;
                            /* Full width of the container */
                            height: 15px;
                            /* Height of the slider track */
                            background: #30caf42c;
                            /* Grey background */
                            outline: none;
                            /* Remove outline */
                            opacity: 0.7;
                            /* Set transparency (for mouse-over effects) */
                            -webkit-transition: .2s;
                            /* 0.2 seconds transition on hover */
                            transition: opacity .2s;
                            border-radius: 7.5px;
                            /* Rounded corners */
                        }

                        /* Mouse-over effects */
                        input[type="range"]:hover {
                            opacity: 1;
                            /* Fully visible on mouse-over */
                        }

                        /* Style the slider thumb */
                        input[type="range"]::-webkit-slider-thumb {
                            -webkit-appearance: none;
                            appearance: none;
                            width: 25px;
                            /* Set a fixed width for the thumb */
                            height: 25px;
                            /* Set a fixed height for the thumb */
                            background: rgba(246.50, 31.84, 31.84, 0.77);
                            /* Red background */
                            cursor: pointer;
                            /* Cursor on hover */
                            border-radius: 50%;
                            /* Make it circular */
                            border: none;
                            /* Remove border */
                        }
                    </style>
                    <script>
    // Load performance data
    const performanceData = JSON.parse(localStorage.getItem('performanceData')) || {};
    const attributes = ['Efficiency', 'Speed', 'Safety', 'Durability', 'Skill'];
    
    // Calculate averages
    const averages = attributes.map(attr => {
        const attrKey = attr.toLowerCase();
        const lowVal = parseFloat(localStorage.getItem(`performance_${attrKey}_low`)) || 0;
        const highVal = parseFloat(localStorage.getItem(`performance_${attrKey}_high`)) || 0;
        return ((lowVal + highVal) / 2).toFixed(2);
    });

    // Initialize radar chart
    const ctx = document.getElementById('radarChart').getContext('2d');
    const radarChart = new Chart(ctx, {
        type: 'radar',
        data: {
            labels: attributes,
            datasets: [{
                label: 'Your Average Performance',
                data: averages,
                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                borderColor: 'rgb(54, 162, 235)',
                pointBackgroundColor: 'rgb(54, 162, 235)',
                pointBorderColor: '#fff',
                pointHoverBackgroundColor: '#fff',
                pointHoverBorderColor: 'rgb(54, 162, 235)'
            }]
        },
        options: {
            scales: {
                r: {
                    min: 0,
                    max: 1,
                    ticks: {
                        stepSize: 0.2
                    }
                }
            }
        }
    });

    // Download data function
    function downloadData(buttonValue) {
        const participantId = localStorage.getItem('participantId') || 'anonymous';
        let csvContent = "ParticipantID,TaskType,Stake,Attribute,Value,Time,Earnings,Timestamp,Rating\n";
        
        Object.entries(performanceData).forEach(([taskType, stakes]) => {
            Object.entries(stakes).forEach(([stake, runs]) => {
                runs.forEach(run => {
                    run.attributes.forEach((value, i) => {
                        csvContent += `${participantId},${taskType},${stake},${attributes[i]},${value},${run.time},${run.earnings},${run.timestamp},${buttonValue}\n`;
                    });
                });
            });
        });
        
        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
        const link = document.createElement("a");
        const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
        link.href = URL.createObjectURL(blob);
        link.download = `performance-review-${timestamp}.csv`;
        link.click();
    }

    // Attribute selection buttons
    function showAttribute(attribute) {
        document.getElementById('sliderLabel').textContent = `${attribute}:`;
        // You can add functionality to adjust the chart based on selected attribute
    }
    </script>
                </div>
            </div>
        </div>
    </div>